<html>
  <head>
    <title>highest number</title>
    <style>
      .highlight {
        background-color: red;
      }
    </style>
    <script>
      const delayedPrompt = (msg, cb) => {
        setTimeout(() => {
          const input = prompt(msg);
          cb(+input);
        }, 10);
      };

      const getParentContainer = () => document.querySelector("#container ul");

      const createNumberContainer = (number) => {
        const numberElement = document.createElement("li");
        numberElement.innerText = number;

        return numberElement;
      };
      
      const highlightHighestNumber = (counter, maxNumber, maxNumberContainer) => {
        delayedPrompt("", (number) => {
          counter++;

          const numberContainer = createNumberContainer(number);
          const parentContainer = getParentContainer();
          parentContainer.appendChild(numberContainer);

          if (number > maxNumber) {
            maxNumberContainer = numberContainer;
            maxNumber = number;
          }

          if (counter === 10) {
            maxNumberContainer.classList.add("highlight");
            return;
          }

          highlightHighestNumber(counter, maxNumber, maxNumberContainer);
        });
      };

      const main = () => {
        const counter = 0;
        const maxNumber = -Infinity;
        const maxNumberContainer = null;
        
        highlightHighestNumber(counter, maxNumber, maxNumberContainer);
      };

      window.onload = main;
    </script>
  </head>
  <body>
    <section id="page">
      <header>Highlight the highest number</header>
      <main id="container">
        <ul></ul>
      </main>
    </section>
  </body>
</html>
